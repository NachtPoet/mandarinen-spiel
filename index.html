<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mandarinen im Gepäck</title>
  <!-- Retro Pixel-Font -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <!-- Ergänzende Schriftart für Lyrics -->
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600&display=swap" rel="stylesheet">
  <!-- Stylesheet einbinden -->
  <link rel="stylesheet" href="css/style.css">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
</head>
<body>
  <div id="star-field"></div>
  <div class="memory-flash"></div>

  <h1>Mandarinen im Gepäck</h1>

  <!-- Startbildschirm mit Cover-Ästhetik -->
  <div id="startScreen" class="overlay">
    <div class="cover-frame">
      <!-- Goldene Überschrift wie auf dem Cover -->
      <div class="cover-title">
        <span class="artist-name">ALEXANDRA JANZEN</span>
        <span class="song-title">MANDARINEN</span>
      </div>
      
      <!-- Mandarinen-Animation -->
      <div class="double-mandarins">
        <div class="mandarin-left"></div>
        <div class="mandarin-right"></div>
      </div>
      
      <h2>Erinnerungen im Gepäck</h2>
      
      <p>
        Tauche ein in die Welt der Mandarinen und entdecke verschüttete Erinnerungen. Jedes gefundene Wort
        enthüllt einen Teil eines besonderen Liedes.<br>
        Folge der Geschichte durch die Zeit - von der Kindheit bis zum Wiedersehen.
      </p>
      
      <div class="select-wrapper">
        <label for="difficultySelect">Schwierigkeitsgrad:</label>
        <select id="difficultySelect">
          <option value="easy" selected>Leichtes Gepäck</option>
          <option value="hard">Schweres Gepäck</option>
          <option value="loose">Loch in der Tasche</option>
        </select>
      </div>
      
      <div class="button-container">
  <button id="startButton" class="btn primary">
    <span class="gold-triangle"></span>Spiel fortsetzen
  </button>
  <button id="startNewButton" class="btn secondary">Neue Reise beginnen</button>
  <button id="helpButton" class="btn">Spielanleitung</button>
  <!-- Fullscreen-Button für Mobilgeräte -->
  <button id="fullscreenButton" class="btn fullscreen-btn">
    <span class="fullscreen-icon"></span>Vollbild
  </button>
</div>

      <div id="loadingIndicator" class="loading-indicator" style="display: none;">
  <div class="loading-spinner"></div>
  <p class="loading-text">Musik wird geladen...</p>
  <div class="loading-progress-container">
    <div class="loading-progress-bar" id="loadingProgressBar"></div>
  </div>
</div>
      
      <p class="save-notice">Dein Fortschritt und deine Erinnerungen werden automatisch gespeichert.</p>
      
      <!-- Copyright-Info im Cover-Stil -->
      <div class="cover-footer">
        <span class="gold-triangle"></span>
        <span>1</span>
      </div>
    </div>
    
    <!-- Filmkorn-Overlay -->
    <div class="vintage-overlay"></div>
  </div>

  <!-- Spielbereich -->
  <div id="gameContainer" class="container" style="display:none;">
    <div id="epicBadge" class="epic-badge">Perfekte Runde!</div>
    <div id="levelIndicator">Level: 1/10</div>
    <div id="timer">Zeit: 0:00</div>
    <div id="grid" class="grid"></div>
    <div id="progress"><div id="progressBar"></div></div>
    <div id="wordList" class="word-list"></div>
    <!-- Musik-Toggle-Button innerhalb des Containers -->
    <button id="musicToggle"></button>
    <button id="soundToggle"></button>
    <button id="hintButton">TIPP</button>
    <!-- Cover-Reveal Button hinzufügen -->
    <button class="cover-reveal-button" id="coverRevealButton" aria-label="Cover anzeigen"></button>
  </div>

  <!-- Verbessertes Level-Overlay mit Cover-Ästhetik -->
  <div id="levelOverlay" class="overlay hidden">
    <div class="cover-frame level-frame">
      <!-- Cover-Titel für konsistentes Design -->
      <div class="cover-title">
        <span class="artist-name">ALEXANDRA JANZEN</span>
        <span class="song-title">MANDARINEN</span>
      </div>
      
      <!-- Level-Badge mit Cover-Stil -->
      <div class="level-badge">
        <div class="double-mandarins small">
          <div class="mandarin-left"></div>
          <div class="mandarin-right"></div>
        </div>
        <div class="level-number">LEVEL <span id="currentLevelNum">1</span></div>
      </div>
      
      <!-- Verbesserte Lyrics-Anzeige -->
      <div class="lyrics-container">
        <div id="lyricDisplay" style="white-space: pre-wrap;"></div>
        <div class="level-quote" id="levelQuote"></div>
      </div>
      
      <!-- Button mit Cover-Stil -->
      <button id="nextLevelButton" class="btn primary">
        <span class="gold-triangle"></span>
        Weiter in der Geschichte
      </button>
      
      <!-- Cover-Footer mit goldenem Dreieck -->
      <div class="cover-footer">
        <span class="gold-triangle"></span>
        <span id="levelFooterNum">1</span>
      </div>
    </div>
    
    <!-- Vintage-Overlay für Filmkorn-Effekt -->
    <div class="vintage-overlay"></div>
  </div>

  <!-- Emotionaler Endscreen -->
  <div id="endScreen" class="overlay hidden">
    <div class="cover-frame">
      <!-- Cover-Titel für konsistentes Design -->
      <div class="cover-title">
        <span class="artist-name">ALEXANDRA JANZEN</span>
        <span class="song-title">MANDARINEN</span>
      </div>
      
      <!-- Doppelte Mandarinen -->
      <div class="double-mandarins">
        <div class="mandarin-left"></div>
        <div class="mandarin-right"></div>
      </div>
      
      <h2>Reise vollendet</h2>
      <p id="endMessage">
        In den Mandarinen liegen Erinnerungen und Verbundenheit –
        du hast die Geschichte des Songs Stück für Stück entdeckt.
      </p>
      <div class="reward-box" id="rewardBox"></div>
      <p id="couponCode">Dein Gutscheincode: MANDARINEN (10% Rabatt)</p>
      <p><a href="https://shop.alexandrajanzen.de/" target="_blank" class="shop-link">Zum Shop</a></p>
      <div class="button-container">
        <button id="restartButton" class="btn primary">
          <span class="gold-triangle"></span>Erneut spielen
        </button>
        <button id="restartNewButton" class="btn secondary">Neue Reise beginnen</button>
      </div>
      <p class="save-notice">Die Erinnerungen bleiben - du kannst jederzeit mit einem anderen Schwierigkeitsgrad spielen.</p>
      
      <!-- NEUER CODE: Credits im Endscreen -->
      <div class="mandarin-credits">
        <h3>Erinnerungen & Danksagungen</h3>
        <div class="credit-line">
          <span class="credit-label">Musik:</span>
          <span class="credit-names">"Mandarinen" von Alexandra Janzen</span>
        </div>
        <div class="credit-line">
          <span class="credit-label">Idee & Code:</span>
          <span class="credit-names">Claude 3.7 und "Der NachtPoet" Stefan Brinkmann</span>
        </div>
        <p class="special-thanks">Extra Mandarinen-Dankeschön für die gemeinsame Reise durch Code und Kreativität!</p>
      </div>
      
      <!-- Cover-Footer mit goldenem Dreieck -->
      <div class="cover-footer">
        <span class="gold-triangle"></span>
        <span>1</span>
      </div>
    </div>
    
    <!-- Filmkorn-Overlay -->
    <div class="vintage-overlay"></div>
  </div>

  <!-- Hilfe-Overlay -->
  <div id="helpOverlay" class="overlay hidden">
    <div class="help-container">
      <div class="help-title">Spielanleitung</div>

      <div class="help-section">
        <h3>Spielziel</h3>
        <p>Finde Wörter im Rätsel und entdecke die Geschichte hinter dem Lied über Erinnerungen, Trennung und Wiedersehen.</p>
      </div>

      <div class="help-section">
        <h3>Steuerung</h3>
        <p>Ziehe über Buchstaben, um Wörter zu markieren (horizontal, vertikal, diagonal).</p>
      </div>

      <div class="help-section">
        <h3>Schwierigkeitsgrade</h3>
        <p>• <strong>Leichtes Gepäck</strong>: Nur horizontal/vertikal<br>
        • <strong>Schweres Gepäck</strong>: Alle Richtungen<br>
        • <strong>Loch in der Tasche</strong>: Nur Anfangsbuchstaben</p>
      </div>

      <div class="help-section">
        <h3>Tipps</h3>
        <p>• Tipp-Button bei Bedarf nutzen<br>
        • Farbwechsel zeigen Stimmung des Levels<br>
        • Die Musik passt sich jedem Level an</p>
      </div>
    </div>
    <button id="closeHelpButton" class="btn">Zurück zur Reise</button>
  </div>

  <!-- Cover-Modal außerhalb aller Container am Ende des body -->
  <div class="cover-modal" id="coverModal">
    <div class="cover-container">
      <img src="assets/images/mandarinen_cover.jpg" alt="Alexandra Janzen - Mandarinen Cover" id="fullCoverImage">
      <div class="cover-info">
        <h3>Alexandra Janzen - Mandarinen</h3>
        <p>Das neue Album jetzt überall verfügbar</p>
      </div>
      <div class="cover-close" id="coverModalClose">&times;</div>
    </div>
  </div>

  <!-- NEUER CODE: Credits Modal -->
  <div class="credits-modal" id="creditsModal">
    <div class="credits-content">
      <div class="credits-title">Mandarinen im Gepäck</div>
      <div class="credits-section">
        <h3>Musik und Text:</h3>
        <p>"Mandarinen" von Alexandra Janzen + Lukas Dröse</p>
      </div>
      <div class="credits-section">
        <h3>Produktion:</h3>
        <p>Gidon Carmel + Roland Meyer de Voltaire</p>
      <div class="credits-section">
        <h3>Spiel Idee und Programmierung</h3>
        <p>Claude 3.7 und "Der NachtPoet" Stefan Brinkmann</p>
      <div class="credits-section">
        <h3>Mix:</h3>
        <p>Roland Meyer de Voltaire</p>
      </div>
      <div class="credits-section">
        <h3>Cover:</h3>
        <p>Yvonne Hartmann</p>
      </div>

      <div class="credits-footer">
        Extra Mandarinen-Dankeschön für die gemeinsame Reise<br>
        durch Code und Kreativität!
      </div>
      <div class="credits-close" id="creditsModalClose">&times;</div>
    </div>
  </div>

  <!-- Audio-Elemente -->
  <audio id="stem-piano" preload="auto" loop></audio>
  <audio id="stem-bass" preload="auto" loop></audio>
  <audio id="stem-drums" preload="auto" loop></audio>
  <audio id="stem-guitars" preload="auto" loop></audio>
  <audio id="stem-others" preload="auto" loop></audio>
  <audio id="stem-vocals" preload="auto" loop></audio>

  <!-- JavaScript Dateien einbinden -->
<!-- Konfiguration -->
<script src="js/config.js"></script>
  <script src="js/utils.js"></script>
<script src="js/levels.js"></script>
<!-- Erst ui.js laden, dann Audio-Manager und GameManager -->
<script src="js/ui.js"></script>
<script src="js/audioManager.js"></script>
<script src="js/stemAudioManager.js"></script>
<script src="js/gameManager.js"></script>
<script src="js/main.js"></script>
<script src="js/cover-integration.js"></script>
<script src="js/cover-animations.js"></script>
<!-- Modusverwaltung -->
<script src="js/mode-manager.js"></script>
<!-- Fullscreen-Support für Mobilgeräte -->
<script src="js/fullscreen.js"></script>
<!-- NEUER CODE: Credits JavaScript -->
<script src="js/credits.js"></script>
</body>
</html>
